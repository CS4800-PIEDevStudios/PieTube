import{r as g,R as i,u as N,j as l}from"./index-DK0-Y3dx.js";import{a as O}from"./axiosConfig-9NAMRaJi.js";import{P as n}from"./index-X2QRR4Uw.js";var C=["color","size","title","className"];function b(){return b=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)({}).hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},b.apply(null,arguments)}function z(e,r){if(e==null)return{};var s,t,a=E(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)s=o[t],r.includes(s)||{}.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function E(e,r){if(e==null)return{};var s={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(r.includes(t))continue;s[t]=e[t]}return s}var x=g.forwardRef(function(e,r){var s=e.color,t=s===void 0?"currentColor":s,a=e.size,o=a===void 0?"1em":a,d=e.title,c=d===void 0?null:d,m=e.className,h=m===void 0?"":m,w=z(e,C);return i.createElement("svg",b({ref:r,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:o,height:o,fill:t,className:["bi","bi-eye-slash",h].filter(Boolean).join(" ")},w),c?i.createElement("title",null,c):null,i.createElement("path",{d:"M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7 7 0 0 0-2.79.588l.77.771A6 6 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755q-.247.248-.517.486z"}),i.createElement("path",{d:"M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829"}),i.createElement("path",{d:"M3.35 5.47q-.27.24-.518.487A13 13 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7 7 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12z"}))});x.propTypes={color:n.string,size:n.oneOfType([n.string,n.number]),title:n.string,className:n.string};var S=["color","size","title","className"];function v(){return v=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)({}).hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},v.apply(null,arguments)}function $(e,r){if(e==null)return{};var s,t,a=R(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)s=o[t],r.includes(s)||{}.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function R(e,r){if(e==null)return{};var s={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(r.includes(t))continue;s[t]=e[t]}return s}var y=g.forwardRef(function(e,r){var s=e.color,t=s===void 0?"currentColor":s,a=e.size,o=a===void 0?"1em":a,d=e.title,c=d===void 0?null:d,m=e.className,h=m===void 0?"":m,w=$(e,S);return i.createElement("svg",v({ref:r,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:o,height:o,fill:t,className:["bi","bi-eye",h].filter(Boolean).join(" ")},w),c?i.createElement("title",null,c):null,i.createElement("path",{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"}),i.createElement("path",{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"}))});y.propTypes={color:n.string,size:n.oneOfType([n.string,n.number]),title:n.string,className:n.string};const q=()=>{const e=N(),[r,s]=g.useState(""),[t,a]=g.useState(""),[o,d]=g.useState(""),[c,m]=g.useState({old:!1,new:!1,confirm:!1}),h=p=>{m(u=>({...u,[p]:!u[p]}))},w=async p=>{if(p.preventDefault(),t!==o){alert("New passwords do not match.");return}try{const u=await O.post("login-api/updatePassword",{oldPassword:r,newPassword:t,confirmPassword:o});console.log("Response from Django:",u.data)}catch(u){console.error("Error sending data to Django:",u)}console.log("Password changed successfully."),e("/Login"),window.location.reload()};return l.jsxs("div",{className:"justify-content-center p-5 bg-light",style:{minWidth:"500px",boxShadow:"0px 0px 30px rgba(0, 0, 0, 0.25)",borderRadius:"20px"},children:[l.jsx("h1",{className:"text-center mb-4",children:"Change Password"}),l.jsxs("form",{onSubmit:w,children:[[{label:"Old Password",value:r,onChange:s,key:"old"},{label:"New Password",value:t,onChange:a,key:"new"},{label:"Confirm New Password",value:o,onChange:d,key:"confirm"}].map(({label:p,value:u,onChange:j,key:f})=>l.jsxs("div",{className:"mb-3",style:{position:"relative"},children:[l.jsx("label",{htmlFor:f,className:"form-label",children:p}),l.jsx("input",{type:c[f]?"text":"password",className:"form-control",id:f,placeholder:p,value:u,onChange:P=>j(P.target.value),required:!0,style:{paddingRight:"40px"}}),l.jsx("button",{type:"button",onClick:()=>h(f),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-5%)",border:"none",background:"none",cursor:"pointer"},children:c[f]?l.jsx(x,{size:20}):l.jsx(y,{size:20})})]},f)),l.jsx("button",{type:"submit",className:"custom-btn w-100 mb-2 text-center",children:"Submit"}),l.jsx("button",{type:"button",className:"custom-btn2 w-100 text-center",onClick:()=>e("/profile"),children:"Cancel"})]})]})};export{q as default};
