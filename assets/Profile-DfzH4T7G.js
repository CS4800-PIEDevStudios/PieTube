import{r as m,R as g,u as p,j as t}from"./index-Co2KiF9Q.js";import{a as h}from"./axiosConfig-9NAMRaJi.js";import{P as c}from"./index-C3xeuRLU.js";var j=["color","size","title","className"];function x(){return x=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},x.apply(null,arguments)}function v(e,n){if(e==null)return{};var s,a,l=w(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)s=o[a],n.includes(s)||{}.propertyIsEnumerable.call(e,s)&&(l[s]=e[s])}return l}function w(e,n){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(n.includes(a))continue;s[a]=e[a]}return s}var f=m.forwardRef(function(e,n){var s=e.color,a=s===void 0?"currentColor":s,l=e.size,o=l===void 0?"1em":l,i=e.title,u=i===void 0?null:i,r=e.className,d=r===void 0?"":r,b=v(e,j);return g.createElement("svg",x({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:o,height:o,fill:a,className:["bi","bi-caret-right-fill",d].filter(Boolean).join(" ")},b),u?g.createElement("title",null,u):null,g.createElement("path",{d:"m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"}))});f.propTypes={color:c.string,size:c.oneOfType([c.string,c.number]),title:c.string,className:c.string};const P=()=>{const[e,n]=m.useState(""),[s,a]=m.useState(""),[l,o]=m.useState(""),i=p(),u=async r=>{r.preventDefault();const d=await h.post("login-api/logoutAccount",{});console.log("Response from Django Signout:",d.data),d.data.status==="success"&&(localStorage.removeItem("isAuthenticated"),localStorage.setItem("isLoggedIn",!1),i("/Login"),window.location.reload())};return m.useEffect(()=>{localStorage.getItem("isLoggedIn")==="false"&&i("/Login"),h.get("login-api/getProfileData").then(r=>{console.log(r.data[0]),a(r.data[0].username),n(r.data[0].email)})},[]),t.jsxs("div",{className:"justify-content-center p-5 bg-light",style:{minWidth:"500px",boxShadow:"0px 0px 30px rgba(0, 0, 0, 0.25)",borderRadius:"20px"},children:[t.jsx("h1",{className:"text-center mb-4",children:"Settings"}),t.jsxs("div",{className:"d-flex align-items-center mb-4",children:[t.jsxs("div",{className:"d-flex rounded-circle bg-secondary text-white justify-content-center align-items-center",style:{width:"80px",height:"80px",fontSize:"12px"},children:["Change ",t.jsx("br",{})," Profile ",t.jsx("br",{})," Picture"]}),t.jsxs("h5",{className:"text-start mx-3",children:["Username:",t.jsx("br",{})," ",s]}),t.jsxs("h5",{className:"flex-fill",children:["Email:",t.jsx("br",{})," ",e]})]}),t.jsxs("button",{className:"d-flex custom-btn2 mb-3 px-2 justify-content-between align-items-center",onClick:()=>i("/ChangeUsername"),children:[t.jsx("div",{children:"Change Username"}),t.jsx("div",{className:"text-muted",children:"Last changed 03/14/2025"}),t.jsx(f,{})]}),t.jsxs("button",{className:"d-flex custom-btn2 mb-3 px-2 justify-content-between align-items-center",onClick:()=>i("/Changepassword"),children:[t.jsx("div",{children:"Change Password"}),t.jsx("div",{className:"text-muted",children:"Last changed 03/14/2025"}),t.jsx(f,{})]}),t.jsx("button",{className:"custom-btn2 mb-3",onClick:()=>i("/EditAbout",{state:{about:l}}),children:"Edit About"}),t.jsx("button",{className:"custom-btn mb-3",onClick:u,children:"Sign Out"})]})};export{P as default};
